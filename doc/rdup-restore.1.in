'\" t
.TH RDUP-RESTORE 1 "14 Mar 2006" "@PACKAGE_VERSION@" "@PACKAGE_NAME@ utils"

.SH NAME
rdup-restore \- restore a filesystem from a specific backup directory

.SH SYNOPSIS
.B rdup-restore
[
.IR OPTION
]
SOURCE
[
SOURCE ...
]
DIRECTORY 

.SH DESCRIPTION
\fBrdup-restore\fR is a frontend to `rdup-snap -R' and `rdup'. It will
restore everything from \fISOURCE\fRs to \fIDIRECTORY\fR.
.PP
SOURCE can be a remote location (use the ssh:// syntax), if you
use that syntax only one SOURCE can be used. When using this
syntax the files are \fIpulled\fR from the remote server using 'ssh'.

There is no provisioning for \fBssh\fR so unless you have configured
\fBssh\fR to work without a passphrase you will be asked to supply one.
Also note that the PATH on the remote host should be set in such a way that all
the rdup-utils can be found.
.PP
Restoring from a backup is as simple as:

      rdup-restore /vol/backup/elektron/200604/home /tmp/restore

Note: The restored files "inherit" the `/vol/backup/elektron/200604'
prefix. So the restored files are found in the directory:
`/tmp/home/vol/backup/elektron/200604/home'.
.PP
Multiple local sources are allowed, so that:

	rdup-restore /backup/home /backup/etc /tmp

Will restore both `/backup/home' and '/backup/etc' to `/tmp'.


.SH OPTIONS
.TP
.B \-k keyfile
Decrypt the files while restoring with \fIkeyfile\fR. This option
inserts \fBrdup-crypt \-d keyfile\fR in the pipeline. If both \fI\-z\fR and
\fI\-k\fR are given files are first decrypted and then uncompressed.
.TP
.B \-z
Decompress the files while restoring. This option
inserts \fBrdup-gzip \-d\fR in the pipeline. If both \fI\-z\fR and
\fI\-k\fR are given a file is first decrypted and then unzipped. This 
the opposite of what \fBrdup-simple\fR does.
.TP
.B \-a
Enable extended attributes. Read the uid/gid to the extended user
attributes r_uid and r_gid. See rdup(1) for a more detailed explanation.
.TP
.B \-v
Echo the files processed to standard error.
.TP
.B \-h
Show a short help message.
.TP
.B \-V
Show the version.

.SH EXAMPLES

.SS LOCAL RESTORE
Restoring from a local backup:

        rdup-restore /vol/backup/elektron/200604/home/miekg/bin /tmp/restore

.SS REMOTE RESTORE
Restoring from a remote server:

         rdup-restore ssh://miekg@remove/home/miekg/bin /tmp/restore

.SH SEE ALSO
rdup(1) and rdup-simple(1).
