'\" t
.TH RORRIM.SH 1 "27 Feb 2006" "@PACKAGE_VERSION@" "@PACKAGE_NAME@ utils"

.SH NAME
rorrim.sh \- restore an entire backed up directory

.SH SYNOPSIS
.B rorrim.sh
[
.IR OPTIONS
]
.IR RESTOREDIR

.SH DESCRIPTION
\fBrorrim.sh\fR is part of the restore utilities of \fBrdup\fR.
.PP
\fBrorrim.sh\fR is almost equal to \fBmirror.sh\fR, the major
differences are:
.TP
.B o
When a filename with a backup suffix (+DD.MM:SS) is seen, the contents
of that file is copied, but the suffix is removed from the filename. 
Leaving the restored directory in its original state.
.TP
.B o
It can be that the file without the suffix does not exist in the
backup directory. This is possible when the file has been permanently
deleted from the filesystem. If this is the case the file in 
question is skipped from the restore.
.TP
.B o
There is no default location to restore to. A restore directory
must be explicitly given on the command line.

\fBrorrim.sh\fR restores an entire backed up directory (recusively) to
another directory. This allows one to return to a previous state of a
filesystem. 
.PP
\fBrorrim.sh\fR will restore the files it receives on standard input,
just like \fBmirror.sh\fR does for backups.
.PP
Restored files will be copied as-is, no unzipping or decryption will 
be attempted. See gzip.sh(1) and crypt.sh(1) for compression and
decryption.

.SH OPTIONS
.TP
.B \-c
Used in conjunction with \fBrdup\fR's \-c. This will allow
\fBrorrim.sh\fR to be used for remote restores. This option 
is also used when a backup is compressed or encrypted. By piping
\fBrdup\fR's output through \fBgzip.sh -d\fR and/or \fBcrypt.sh -d\fR
the original files can be retrieved.
.TP
.B \-p NUM
Strip NUM leading components of the file names. When restoring you can 
use this option to strip of the default backup path (`/vol/backup/...').
For instance if the backed up files is:
/vol/backup/elektron/200604/home/miekg/bin, a \-p value of 4 will reduce
this to /home/miekg/bin.
.TP
.B \-v
Echo the files processed to standard error.
.TP
.B \-h
Short help message.
.TP
.B \-V
Show the version.

.SH EXAMPLES
Restore a subversion repository to /tmp/SVN:

rdup /dev/null /vol/backup/elektron/200604/var/svn/rdup | monthday.sh |
rorrim.sh /tmp/SVN


.SH SEE ALSO
diff(1), hist.sh(1), yesterday(1), gzip.sh(1), restore.sh(8) and rdup(8).
