1/ BACKUPS WITH RDUP

o local mirroring backups
o local tar.gz backups (hdup) (todo, code is 50% there) 
o remote mirroring backups    (todo, code is there)
o USB/FireWire HD backups     (todo, code is there)

1/ HOW TO MAKE BACKUPS

1. What directories do you want to backup?
   (Let's say: /home)
2. Where do you want to store the backups?
   (Let's say: /vol/backup/`hostname`, this is the default)

By default mirror.sh will create a backup directory for
each year and month. Thus the current backup is put in
'/vol/backup/`hostname`/200601'  (January 2006 backup).

1.1/ LOCAL FULL DUMP

As root run:
rm -f /etc/rdup/HOME_TIMESTAMP /etc/rdup/HOMELIST && \
/usr/bin/rdup -N /etc/rdup/HOME_TIMESTAMP /etc/rdup/HOMELIST /home |\
/usr/sbin/mirror.sh

When this completes it will print (or something very simular):
** #REG FILES  : 32
** #DIRECTORIES: 2521
** #LINKS      : 0
** #(RE)MOVED  : 2
** SIZE        : 139305 KB
** STORED IN   : /vol/backup/elektron/200601
** ELAPSED     : 42 s

1.2/ LOCAL INCREMENTAL DUMP

An incremental dump is easy, just run:
/usr/bin/rdup -N /etc/rdup/HOME_TIMESTAMP /etc/rdup/HOMELIST /home |\
/usr/sbin/mirror.sh

This will dump all files that have changed sine the last dump. The time
of the last dump is gotten from the file HOME_TIMESTAMP. Old files in
the backup filesystem are moved to: filename+MONTHDAY.HH.MM and the new
files are put in place.

Incremental backups can be run as often as you want. The tools
yesterday.sh and hist.sh can be used to retrieve old files.

2/ REMOTE BACKUPS

In both examples the backup will be placed in /vol/backup.

rdup -N timestamp HOMELIST ~ | ssh user@otherhost mirror.sh -c 

or if you want bandwidth limitation:

rdup -N timestamp HOMELIST ~ | cstream | ssh user@otherhost mirror.sh -c
